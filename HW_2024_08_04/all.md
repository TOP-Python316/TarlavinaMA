### Создание (Create)
1. **Создайте новую карточку с вопросом "Что такое Django?" и ответом "Django — это высокоуровневый веб-фреймворк на языке Python."**
2. **Создайте новую категорию с именем "Программирование".**
3. **Создайте новый тег с именем "Python".**
4. **Создайте новую карточку и присвойте ей категорию "Программирование" и тег "Python".**
5. **Создайте новую карточку и установите её статус как "Проверено".**

```python
# Создаем категорию "Программирование"
category = Category.objects.create(name="Программирование")
# Создаем тег "PythonNew" так как Python уже существует
tag = Tag.objects.create(name="PythonNew")

# Создаем карточку и устанавливаем статус "Проверено"
card = Card.objects.create(question="Что такое Django?", answer="Django — это высокоуровневый веб-фреймворк на языке Python.", category=category, status=True)

# с добавление тега возникли сложности и ошибки

# создание доп карточки без статуса
card = Card.objects.create(question="Что такое HTML?", answer=" HTML — это язык разметки для создания веб-страниц.", category=category)

# добавление статуса
card.status = True
card.save()
```

### Чтение (Read)
6. **Получите все карточки, которые имеют статус "Проверено".**
7. **Получите все карточки, которые содержат тег с именем "Python".**
8. **Получите все карточки, которые принадлежат категории "Программирование".**
9. **Получите все карточки, которые были загружены в течение последних 7 дней.**
10. **Получите все карточки, которые имеют более 10 просмотров.**

```python
# Получаем все карточки, которые имеют статус "Проверено"
checked_cards = Card.objects.filter(status=True)

# Получаем все карточки, которые содержат тег с именем "Python"
python_cards = Card.objects.filter(cardtag__tag__name="Python")

# Получаем все карточки, которые принадлежат категории "Программирование"
programming_cards = Card.objects.filter(category__name="Программирование")

# Получаем все карточки, которые были загружены в течение последних 7 дней
from datetime import datetime
target_date = datetime(2024, 8, 15, tzinfo=timezone.get_current_timezone())
recent_cards = Card.objects.filter(upload_date__gt=target_date)

# Получаем все карточки, которые имеют более 10 просмотров
popular_cards = Card.objects.filter(views__gt=10)
```

### Обновление (Update)
11. **Обновите статус карточки с id=1 на "Проверено".**
12. **Увеличьте количество просмотров карточки с id=1 на 1.**
13. **Измените категорию карточки с id=1 на "Программирование".**
14. **Добавьте тег "Python" к карточке с id=1.**
15. **Обновите вопрос и ответ карточки с id=1 на новые значения.**


```python
# Обновляем статус карточки с id=1 на "Проверено"
card = Card.objects.get(id=1)
card.status = True
card.save()

# Увеличьте количество просмотров карточки с id=1 на 1
card.views += 1
card.save()

# Измените категорию карточки с id=1 на "Программирование"
programming_category = Category.objects.get(name="Программирование")
card.category = programming_category
card.save()

# Добавьте тег "Python" к карточке с id=1
# с тегами возникли сложности

# Обновите вопрос и ответ карточки с id=1 на новые значения
card.question = "Новый вопрос"
card.answer = "Новый ответ"
card.save()
```

### Удаление (Delete)
16. **Удалите карточку с id=1.**
17. **Удалите категорию с именем "Программирование".**
18. **Удалите тег с именем "Python".**
19. **Удалите все карточки, которые имеют статус "Не проверено".**
20. **Удалите все карточки, которые не имеют тегов.**

```python
# Удаление карточки с id=1
card = Card.objects.get(id=1)
card.delete()

# Удаление категории с именем "Программирование"
programming_category = Category.objects.get(name="Программирование")
programming_category.delete()

# Удаление тега с именем "PythonNew"
python_tag = Tag.objects.get(name="PythonNew")
python_tag.delete()

# Удаление всех карточек, которые имеют статус "Не проверено"
unchecked_cards = Card.objects.filter(status=False)
unchecked_cards.delete()

# Удаление всех карточек, которые не имеют тегов
# с тегами возникли сложности
```

### Комбинированные задачи с использованием Q и F классов
21. **Получите все карточки, которые имеют статус "Проверено" и принадлежат категории "Программирование".**
22. **Получите все карточки, которые имеют статус "Проверено" или принадлежат категории "Программирование".**
23. **Увеличьте количество просмотров всех карточек, которые имеют статус "Проверено", на 1.**
24. **Получите все карточки, которые имеют более 10 просмотров и менее 5 добавлений в избранное.**
25. **Получите все карточки, которые были загружены в течение последних 7 дней и имеют тег "Python".**

```python
from django.db.models import Q, F

# Получение всех карточек, которые имеют статус "Проверено" и принадлежат категории "Программирование"
cards = Card.objects.filter(Q(status=True) & Q(category=category))

# Получение всех карточек, которые имеют статус "Проверено" или принадлежат категории "Программирование"
cards = Card.objects.filter(Q(status=True) | Q(category=category))

# Увеличьте количество просмотров всех карточек, которые имеют статус "Проверено", на 1
Card.objects.filter(status=True).update(views=F('views') + 1)

# Получение всех карточек, которые имеют более 10 просмотров и менее 5 добавлений в избранное
cards = Card.objects.filter(Q(views__gt=10) & Q(adds__lt=5))

# Получение всех карточек, которые были загружены в течение последних 7 дней и имеют тег "Python"
from datetime import timedelta
from django.utils import timezone
tag = Tag.objects.get(name="Python")
seven_days_ago = timezone.now() - timedelta(days=7)
cards = Card.objects.filter(Q(upload_date__gte=seven_days_ago) & Q(tags=tag))